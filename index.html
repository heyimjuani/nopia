<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="static/images/favicon.ico" sizes="any">
  <link rel="icon" href="static/images/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="static/images/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#B8EEA0">
  <meta charset="UTF-8">
  
  <!-- Google Optimize -->
  <script src="https://www.googleoptimize.com/optimize.js?id=OPT-5LVHVPN"></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HWGJD9L9H3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-HWGJD9L9H3');
  </script>

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-TSQ7PZZ');</script>
  <!-- End Google Tag Manager -->

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600&display=swap" rel="stylesheet"-->
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@500;600;1000&display=swap" rel="stylesheet">

  <meta name="description" content="An ongoing investigation into bringing the worlds of harmony, music production and performance together">

  <meta property="og:title" content="Nopia">
  <meta property="og:description" content="An ongoing investigation into bringing the worlds of harmony, music production and performance together">
  <meta property="og:image" content="http://nopia.ar/meta-social.jpg">
  <meta property="og:url" content="http://nopia.ar">
  <!--meta name="twitter:card" content="summary_large_image"-->

  <meta property="og:site_name" content="Nopia">
  <meta name="twitter:image:alt" content="An ongoing investigation into bringing the worlds of harmony, music production and performance together">
  <title>Nopia</title>

  <link rel="stylesheet" href="static/css/normalize.css">
  <link rel="stylesheet" href="static/css/styles.css">
</head>
<body class="landing">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TSQ7PZZ"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div id="zh-banner" class="lang-banner hidden"><a href="zh/" class="click event-zhbanner">在中国浏览的朋友，请点击这里</a></div>

<div class="wrap" id="lang-en">
  <div class="container navigation">
    <h1 id="page-title"><a href="#" class="logo">Nopia</a></h1>
    <ul class="navbar">
      <li><a href="https://www.youtube.com/@martingrieco" target="_blank" class="click event-social">Youtube</a></li>
      <li><a href="https://instagram.com/nopia.midi" target="_blank" class="click event-social">Instagram</a></li>
      <li>:)</li>
    </ul>
  </div>
  <div class="container hero">
    <p>An ongoing investigation into bringing the worlds of harmony, music production and performance together</p>
    <p>by<br>
      Martin Grieco & Rocío Gal<br>
      Buenos Aires, Argentina<br>
      2023</p>
    <span class="venn"></span>
    <p class="center"><a href="https://forms.gle/HPFy8nMMuv9asXXa9" target="_blank" class="btn-primary click event-goal">Get access</a></p>
    <p id="zh-alt" class="center zh-alt"><a href="zh/" target="_blank" class="btn-secondary click event-zhalt">如果上面的链接不起作用，请点击这里</a></p>
  </div>
  <div class="container footer"></div>
</div>

<div id="lang-zh" class="hidden">
  <div id="en-banner" class="lang-banner"><a href="" id="backEn" onclick="showEn()" class="click event-zhbanner">English version here</a></div>
  <div class="content">
    <h2>NOPIA</h2>
    <h3>加电邮发送列表</h3>
    <div class="header"></div>
    <form class="form">
      <input type="email" id="email" name="email" aria-label="Email" required>
      <button type="submit">入敬请期待......</button>
    </form>
    <div id="success" class="message hidden">谢谢！</div>
    <div id="error" class="message hidden">发生了错误。 请稍后再试！</div>
    <p class="desc">一项正在进行的，关于将和声，<br>
      音乐制作与演奏融为一体的研究</p>
    <p class="year">2023</p>
  </div>
</div>

<script>
  const userLanguage = window.navigator.language;
  const userLanguages = window.navigator.languages;
  var backEn = document.getElementById('backEn');
  backEn.addEventListener('click', showEn);

  function showEn(e) {
    document.getElementById("lang-zh").classList.add("hidden");
    document.getElementById("lang-en").classList.remove("hidden");
    document.getElementById("zh-banner").classList.remove("hidden");
    e.preventDefault();
  }
  var hiChina = userLanguages.some(function(element) {
    return element.includes("zh");
  });
  if (hiChina) {
    document.getElementById("zh-banner").classList.remove("hidden");
    document.getElementById("zh-alt").classList.remove("hidden");
  }

  if (userLanguage.toLowerCase() === 'zh' || userLanguage.startsWith('zh-')) {
    document.getElementById("lang-en").classList.add("hidden");
    document.getElementById("lang-zh").classList.remove("hidden");
    document.getElementById("zh-banner").classList.add("hidden");
  }

</script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
  const subscribeUrl = 'https://nopia-cn.flok.cc/subscribe';

  const formEl = document.querySelector('form');
  const successEl = document.getElementById("success");
  const errorEl = document.getElementById("error");
  const buttonEl = document.querySelector('button');

  formEl.addEventListener('submit', (e) => {
    e.preventDefault();

    successEl.classList.add("hidden");
    errorEl.classList.add("hidden");
    buttonEl.setAttribute('disabled', true);

    axios.post(subscribeUrl, {
      email: formEl.email.value
    }).then(function (response) {
      formEl.email.value = "";
      successEl.classList.remove("hidden");
    }).catch(function (error) {
      console.error("error", error);
      errorEl.classList.remove("hidden");
    });

    buttonEl.removeAttribute('disabled');
  });
</script>
</body>
</html>